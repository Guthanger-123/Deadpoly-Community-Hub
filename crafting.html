<!-- =========================
FILE: crafting.html  (REDO)
- Fixes: sell:-- (invalid JS), missing commas, consistent schema
- Adds images from official wiki via Special:FilePath (wirePage handles it)
- Adds Buy/Sell columns (blank "—" placeholders)
- Keeps same look as your other pages
========================= -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DeadPoly Hub — Crafting</title>
  <link rel="stylesheet" href="wiki-shared.css" />
</head>
<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="top-left">
        <a class="btn" href="index.html">← Menu</a>
        <div class="brand">Wiki <span class="badge">Crafting</span></div>
      </div>
      <div class="top-right">
        <a class="btn" href="https://deadpoly.wiki/Crafting_Stations" target="_blank" rel="noopener">Official Wiki ↗</a>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="shell">
      <div class="panel side">
        <h2>Wiki Categories</h2>
        <div class="muted">Local pages (fast) + one official button above.</div>
        <div class="nav">
          <a href="wiki.html"><span>Hub</span><span class="small">→</span></a>
          <a href="weapons.html"><span>Weapons</span><span class="small">→</span></a>
          <a href="masks.html"><span>Masks</span><span class="small">→</span></a>
          <a href="armor.html"><span>Armor</span><span class="small">→</span></a>
          <a href="ammo.html"><span>Ammo</span><span class="small">→</span></a>
          <a href="helmets.html"><span>Helmets</span><span class="small">→</span></a>
          <a href="consumables.html"><span>Consumables</span><span class="small">→</span></a>
          <a class="active" href="crafting.html"><span>Crafting</span><span class="small">→</span></a>
          <a href="backpacks.html"><span>Backpacks</span><span class="small">→</span></a>
          <a href="collectibles.html"><span>Collectibles</span><span class="small">→</span></a>
        </div>

        <div class="note">
          <b>Prices:</b> Buy/Sell fields are included; use <span class="code">"—"</span> until you confirm values.
        </div>
      </div>

      <div class="panel main">
        <div class="hero">
          <div>
            <h1>Crafting</h1>
            <div class="sub">Crafting stations + production stations. Images hotlinked from the official wiki when filenames match.</div>
          </div>
          <div class="badge" id="countBadge">0 items</div>
        </div>

        <div class="toolbar">
          <input id="q" class="search" placeholder="Search Crafting (ex: anvil, press, generator)..." />
          <div class="pills" id="pills"></div>
          <div class="viewtoggle">
            <button class="btn" id="gridBtn" type="button">Cards</button>
            <button class="btn" id="tableBtn" type="button">Table</button>
          </div>
        </div>

        <div id="grid" class="grid"></div>

        <div id="table" class="tablewrap" style="display:none">
          <table>
            <thead id="thead"></thead>
            <tbody id="tbody"></tbody>
          </table>
        </div>

      </div>
    </div>
  </div>

  <script src="wiki-shared.js"></script>
  <script>
    // NOTE:
    // Your old file was breaking the page because:
    // 1) sell:-- is invalid JS
    // 2) missing commas between properties (after kv blocks)
    //
    // This version uses the same schema as your working pages:
    // { name, image, tags, id, notes, kv(optional), buy, sell }

    const items = [
      // Crafting Stations
      {
        name:"Workbench",
        image:"Workbench.png",
        tags:["Station","Crafting Stations"],
        id:"workbench",
        notes:"Craft in inventory.",
        kv:[
          {k:"Requirements",v:"100× Wood, 50× Metal"},
          {k:"Uses",v:"Craft Anvil + Mortar & Pestle"}
        ],
        buy:"—",
        sell:"—"
      },
      {
        name:"Anvil",
        image:"Anvil.png",
        tags:["Station","Crafting Stations"],
        id:"anvil",
        notes:"Craft with Workbench.",
        kv:[
          {k:"Requirements",v:"150× Metal"},
          {k:"Uses",v:"Crates/benches + Refined Metal"}
        ],
        buy:"—",
        sell:"—"
      },
      {
        name:"Mortar & Pestle",
        image:"Mortar_and_Pestle.png",
        tags:["Station","Crafting Stations"],
        id:"mortar-pestle",
        notes:"Craft with Workbench.",
        kv:[
          {k:"Requirements",v:"25× Stone"},
          {k:"Uses",v:"Craft Cornmeal (Distiller)"}
        ],
        buy:"—",
        sell:"—"
      },
      {
        name:"Bullet Press",
        image:"Bullet_Press.png",
        tags:["Station","Crafting Stations"],
        id:"bullet-press",
        notes:"Craft with Anvil.",
        kv:[
          {k:"Requirements",v:"50× Metal"},
          {k:"Uses",v:"Craft Ammo"}
        ],
        buy:"—",
        sell:"—"
      },

      // Production
      {
        name:"Distiller",
        image:"Distiller.png",
        tags:["Production"],
        id:"distiller",
        notes:"Crafted at Anvil.",
        kv:[
          {k:"Requirements",v:"100× Metal"},
          {k:"Uses",v:"Produce Ethanol (Cornmeal + Water)"}
        ],
        buy:"—",
        sell:"—"
      },
      {
        name:"Generator (Home-Made)",
        image:"Generator_Home-Made.png",
        tags:["Production"],
        id:"generator-home-made",
        notes:"Crafted at Anvil.",
        kv:[
          {k:"Requirements",v:"75× Metal, 25× Plastic, 10× Wire, 2× Sparkplugs, 1× Circuit Board"},
          {k:"Uses",v:"Powers structures; uses Ethanol"}
        ],
        buy:"—",
        sell:"—"
      },
      {
        name:"Generator (Found)",
        image:"Generator_Found.png",
        tags:["Production"],
        id:"generator-found",
        notes:"Found in the world.",
        kv:[
          {k:"Requirements",v:"N/A"},
          {k:"Uses",v:"Runs off Propane"}
        ],
        buy:"—",
        sell:"—"
      },
      {
        name:"Dew Collector",
        image:"Dew_Collector.png",
        tags:["Production"],
        id:"dew-collector",
        notes:"Crafted in Build Menu.",
        kv:[
          {k:"Requirements",v:"40× Fiber, 30× Wood, 30× Metal"},
          {k:"Uses",v:"Refills water bottles placed in inventory"}
        ],
        buy:"—",
        sell:"—"
      },
      {
        name:"Crop Plot",
        image:"Crop_Plot.png",
        tags:["Production"],
        id:"crop-plot",
        notes:"Crafted in Build Menu.",
        kv:[
          {k:"Requirements",v:"20× Wood"},
          {k:"Uses",v:"When watered, produces Corn or Potatoes (random)"}
        ],
        buy:"—",
        sell:"—"
      },
      {
        name:"Salvager",
        image:"Salvager.png",
        tags:["Production"],
        id:"salvager",
        notes:"Crafted in Build Menu.",
        kv:[
          {k:"Requirements",v:"50× Metal"},
          {k:"Uses",v:"Scrap unwanted items for resources"}
        ],
        buy:"—",
        sell:"—"
      }
    ];

    const columns = [
      { key:"img", label:"Image" },
      { key:"name", label:"Station" },
      { key:"notes", label:"How to Get / Notes" },
      { key:"buy", label:"Buy" },
      { key:"sell", label:"Sell" }
    ];

    wirePage({
      title:"Crafting",
      items,
      columns,
      activeHref:"crafting.html",
      placeholderText:"Search Crafting..."
    });
  </script>
</body>
</html>
